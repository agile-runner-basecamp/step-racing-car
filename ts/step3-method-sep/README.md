# Step 3: 메서드 분리 (한 함수 = 한 가지 일)

이 코드는 **기능적으로 완벽하게 동작하며 테스트를 통과**합니다.
하지만 입력 파싱, 검증, 라운드 실행, 우승자 판정, 결과 포맷팅까지 **모든 기능이 하나의 거대한 `race()` 함수** 안에 엉켜 있습니다.

## 🎯 학습 목표
- "한 함수는 한 가지 일만 해야 한다"는 기본 원칙을 체득합니다.
- 코드를 읽을 때 '추상화 레벨'이 균일하게 유지되도록 코드를 재구성합니다.

## 📝 요구 사항
1. `massiveRace.ts` 코드를 열고, `race()` 함수를 여러 개의 의미 있는 private 메서드(또는 별도의 순수 함수)로 분리하세요.
2. 예컨대 `validateInput()`, `parseNames()`, `playRounds()`, `findWinners()`, `formatResult()` 같은 역할 단위로 쪼개는 것을 추천합니다.
3. 리팩토링 후 `race()` 함수를 읽었을 때 마치 **"목차를 읽는 것처럼"** 흐름이 한눈에 파악되어야 합니다.
4. 💡 **보너스:** Step 1에서 배운 매직 넘버 상수 추출도 함께 적용해 보세요. 코드 곳곳에 `4`, `5` 등이 남아있습니다!
5. 리팩토링 중간중간 테스트(`npm test`)를 실행하여 동작이 깨지지 않았는지 확인하세요!

## ✅ 달성 기준
- [ ] `race()` 함수 본문이 5~10줄 이내로, 각 줄이 무엇을 하는지 한눈에 파악되는가?
- [ ] 분리된 각 함수가 하나의 역할만 수행하는가?
- [ ] 추상화 레벨이 동등한가? (높은 수준 사이에 낮은 수준이 섞여있지 않은가?)
- [ ] 모든 테스트가 Green인가?

## ⌨️ VSCode 리팩토링 단축키

| 기능 | Windows/Linux | macOS |
|------|--------------|-------|
| **함수 추출** (Extract Function) | `Ctrl + .` → 선택 | `⌘ + .` → 선택 |
| **상수 추출** (Extract to Constant) | `Ctrl + .` → 선택 | `⌘ + .` → 선택 |
| **이름 변경** (Rename Symbol) | `F2` | `F2` |

> 💡 분리하고 싶은 코드 블록을 드래그한 뒤 `Ctrl + .` → "Extract to function"을 선택하면 자동으로 함수로 추출됩니다!

## 📚 참고 자료
- [FE] 읽기 좋은 코드 작성법 → §2.2 함수/컴포넌트와 추상화, §2.3 추상화 레벨
